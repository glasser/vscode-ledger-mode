<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Completion Provider Test Cases</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .toc h2 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .toc-category {
            margin-bottom: 20px;
        }
        
        .toc-category h3 {
            color: #34495e;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
        }
        
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .toc li {
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .test-case {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
        }
        
        .test-case h2 {
            color: #2c3e50;
            margin-top: 0;
            font-family: 'Monaco', 'Menlo', monospace;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
        }
        
        .description {
            background: #e8f5e8;
            padding: 10px;
            border-left: 4px solid #27ae60;
            margin: 10px 0;
            font-style: italic;
        }
        
        .test-details {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        
        .test-details p {
            margin: 5px 0;
        }
        
        .expected-completions {
            margin-top: 10px;
        }
        
        .expected-completions ul {
            margin: 5px 0;
            padding-left: 20px;
        }
        
        .test-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .test-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .config-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
        }
        
        .input-section h4, .config-section h4 {
            margin-top: 0;
            color: #34495e;
        }
        
        pre {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            overflow-x: auto;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .ledger-content {
            font-family: 'Monaco', 'Menlo', monospace;
        }
        
        .yaml-content {
            font-family: 'Monaco', 'Menlo', monospace;
        }
        
        /* Syntax highlighting for ledger content */
        .date {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .amount {
            color: #2ecc71;
            font-weight: bold;
        }
        
        .account {
            color: #3498db;
        }
        
        .comment {
            color: #95a5a6;
            font-style: italic;
        }
        
        .cursor {
            color: #dc2626;
            font-weight: bold;
            font-size: 1.2em;
            animation: blink 1s infinite;
            background: rgba(220, 38, 38, 0.2);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        .summary {
            background: #e8f4f8;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin-bottom: 30px;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3498db;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 0.9em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .back-to-top:hover {
            background: #2980b9;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Completion Provider Test Cases</h1>
    </div>
    
    <div class="summary">
        <h3>Overview</h3>
        <p>This page provides a comprehensive review of all data-driven test cases for the completion provider functionality. 
        Each test case includes the input ledger content, cursor position, expected completions, and configuration details.</p>
        <p><strong>Total Test Cases:</strong> 22</p>
        <p><strong>Visual Indicators:</strong> The <span class="cursor">|</span> symbol shows exactly where the cursor is positioned when the completion is triggered.</p>
    </div>
    
    <div class="toc">
        <h2>Table of Contents</h2>
        
    <div class="toc-category">
      <h3>Account Tests</h3>
      <ul>
        <li><a href="#account-completion-hierarchical">account-completion-hierarchical</a> - Should provide hierarchical account completions</li><li><a href="#account-completion-mid-file">account-completion-mid-file</a> - Should provide account completions in middle of file</li><li><a href="#account-completion-partial-match">account-completion-partial-match</a> - Should filter accounts by partial match</li><li><a href="#account-completion-range">account-completion-range</a> - Should set range when completing account with existing text</li><li><a href="#account-completion-simple">account-completion-simple</a> - Should provide account completions after colon</li><li><a href="#account-completion-simple-spaces">account-completion-simple-spaces</a> - Simple test for account names with spaces</li><li><a href="#account-completion-virtual">account-completion-virtual</a> - Test virtual account completion with brackets</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>Empty Tests</h3>
      <ul>
        <li><a href="#empty-file-handling">empty-file-handling</a> - Should handle empty files gracefully</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>Error Tests</h3>
      <ul>
        <li><a href="#error-tolerant-account">error-tolerant-account</a> - Should provide account completions despite syntax errors in file</li><li><a href="#error-tolerant-payee">error-tolerant-payee</a> - Should provide payee completions despite syntax errors in file</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>Malformed Tests</h3>
      <ul>
        <li><a href="#malformed-transactions">malformed-transactions</a> - Should work with completely malformed transactions</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>No Tests</h3>
      <ul>
        <li><a href="#no-account-completions-on-transaction-line">no-account-completions-on-transaction-line</a> - Should not provide account completions on non-indented lines</li><li><a href="#no-account-on-transaction">no-account-on-transaction</a> - Should not provide account completions on transaction date lines</li><li><a href="#no-completions-after-amount">no-completions-after-amount</a> - Should not provide completions when no account text matches regex</li><li><a href="#no-payee-completions-in-date">no-payee-completions-in-date</a> - Should not provide completions when cursor is before date prefix</li><li><a href="#no-payee-on-posting">no-payee-on-posting</a> - Should not provide payee completions on posting lines</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>Payee Tests</h3>
      <ul>
        <li><a href="#payee-completion-basic">payee-completion-basic</a> - Should provide payee completions on transaction lines</li><li><a href="#payee-completion-effective-date">payee-completion-effective-date</a> - Should handle transaction with effective date</li><li><a href="#payee-completion-mid-file">payee-completion-mid-file</a> - Should provide payee completions in middle of file</li><li><a href="#payee-completion-range">payee-completion-range</a> - Should set range when completing payee with existing text</li><li><a href="#payee-completion-with-code">payee-completion-with-code</a> - Should handle transaction with code</li>
      </ul>
    </div>
  
    <div class="toc-category">
      <h3>Posting Tests</h3>
      <ul>
        <li><a href="#posting-line-with-tabs">posting-line-with-tabs</a> - Should handle posting line with tabs</li>
      </ul>
    </div>
  
    </div>
    
    <div class="test-cases">
        
    <div class="test-case" id="account-completion-hierarchical">
      <h2>account-completion-hierarchical</h2>
      <p class="description">Should provide hierarchical account completions</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 5, Column 13</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Expenses:Food:Restaurants</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Test Transaction
    <span class="account">Expenses:Food:Restaurants</span>    <span class="amount">$25.00</span>
    <span class="account">Assets:Bank:Checking:Main</span>   $-25.00

<span class="date">2024-01-15</span> Another Transaction
    <span class="account">Expenses:</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide hierarchical account completions
cursorLine: 5
cursorColumn: 13
expectedCompletions:
  - label: Expenses:Food:Restaurants
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-mid-file">
      <h2>account-completion-mid-file</h2>
      <p class="description">Should provide account completions in middle of file</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 11, Column 11</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:Bank:Checking</strong> (Module) - Account</li><li><strong>Assets:Bank:Savings</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Opening Balances
    <span class="account">Assets:Bank:Checking</span>    <span class="amount">$1000.00</span>
    <span class="account">Assets:Bank:Savings</span>     <span class="amount">$500.00</span>
    <span class="account">Equity:Opening</span>-Balances

<span class="date">2024-01-05</span> Grocery Store
    <span class="account">Expenses:Food</span>           <span class="amount">$75.00</span>
    <span class="account">Assets:Bank:Checking</span>

<span class="date">2024-01-10</span> Gas Station
    <span class="account">Expenses:Auto:Fuel</span>      <span class="amount">$45.00</span>
    <span class="account">Assets:</span><span class="cursor">|</span>

<span class="date">2024-01-15</span> Hardware Store
    <span class="account">Expenses:Home:Tools</span>     <span class="amount">$120.00</span>
    <span class="account">Assets:Bank:Checking</span>

<span class="date">2024-01-20</span> Restaurant
    <span class="account">Expenses:Dining</span>         <span class="amount">$60.00</span>
    <span class="account">Assets:Bank:Checking</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide account completions in middle of file
cursorLine: 11
cursorColumn: 11
expectedCompletions:
  - label: Assets:Bank:Checking
    kind: Module
    detail: Account
  - label: Assets:Bank:Savings
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-partial-match">
      <h2>account-completion-partial-match</h2>
      <p class="description">Should filter accounts by partial match</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 6, Column 7</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Expenses:Food:Groceries</strong> (Module) - Account</li><li><strong>Expenses:Transportation</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Previous Transaction
    <span class="account">Expenses:Food:Groceries</span>    <span class="amount">$50.00</span>
    <span class="account">Expenses:Transportation</span>    <span class="amount">$25.00</span>
    <span class="account">Assets:Bank:Checking</span>      $-75.00

<span class="date">2024-01-15</span> Test Transaction
    <span class="account">Exp</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should filter accounts by partial match
cursorLine: 6
cursorColumn: 7
expectedCompletions:
  - label: Expenses:Food:Groceries
    kind: Module
    detail: Account
  - label: Expenses:Transportation
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-range">
      <h2>account-completion-range</h2>
      <p class="description">Should set range when completing account with existing text</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 5, Column 14</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:Bank:Checking</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Test Transaction
    <span class="account">Assets:Bank:Checking</span>    <span class="amount">$100.00</span>
    <span class="account">Income:Salary</span>

<span class="date">2024-01-15</span> Another Transaction
    <span class="account">Assets:Ban</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should set range when completing account with existing text
cursorLine: 5
cursorColumn: 14
expectedCompletions:
  - label: Assets:Bank:Checking
    kind: Module
    detail: Account
    expectedRange:
      startLine: 5
      startColumn: 4
      endLine: 5
      endColumn: 14
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-simple">
      <h2>account-completion-simple</h2>
      <p class="description">Should provide account completions after colon</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 10, Column 11</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:Bank:Checking</strong> (Module) - Account</li><li><strong>Assets:Bank:Savings</strong> (Module) - Account</li><li><strong>Assets:Cash</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-15</span> Test Transaction
    <span class="account">Assets:Bank:Checking</span>    <span class="amount">$10.00</span>
    <span class="account">Assets:Cash</span>             <span class="amount">$5.00</span>  
    <span class="account">Expenses:Food</span>          -<span class="amount">$15.00</span>

<span class="date">2024-01-16</span> Second Transaction  
    <span class="account">Assets:Bank:Savings</span>     <span class="amount">$20.00</span>
    <span class="account">Expenses:Shopping</span>      -<span class="amount">$20.00</span>

<span class="date">2024-01-17</span> Third Transaction
    <span class="account">Assets:</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide account completions after colon
cursorLine: 10
cursorColumn: 11
expectedCompletions:
  - label: Assets:Bank:Checking
    kind: Module
    detail: Account
  - label: Assets:Bank:Savings
    kind: Module
    detail: Account
  - label: Assets:Cash
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-simple-spaces">
      <h2>account-completion-simple-spaces</h2>
      <p class="description">Simple test for account names with spaces</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 4, Column 11</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:My Bank</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Test
    <span class="account">Assets:My</span> Bank    <span class="amount">$100.00</span>

<span class="date">2024-01-02</span> Test  
    <span class="account">Assets:</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Simple test for account names with spaces
cursorLine: 4
cursorColumn: 11
expectedCompletions:
  - label: Assets:My Bank
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="account-completion-virtual">
      <h2>account-completion-virtual</h2>
      <p class="description">Test virtual account completion with brackets</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 5, Column 12</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>[Budget:Food]</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Test
    [Budget:Food]    <span class="amount">$25.00</span>
    <span class="account">Assets:Cash</span>     $-25.00

<span class="date">2024-01-02</span> Test  
    [Budget:<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Test virtual account completion with brackets
cursorLine: 5
cursorColumn: 12
expectedCompletions:
  - label: &quot;[Budget:Food]&quot;
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="empty-file-handling">
      <h2>empty-file-handling</h2>
      <p class="description">Should handle empty files gracefully</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 0, Column 0</p>
        <p><strong>Completion Type:</strong> none</p>
        
        
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should handle empty files gracefully
cursorLine: 0
cursorColumn: 0
expectedCompletions: []
completionType: none
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="error-tolerant-account">
      <h2>error-tolerant-account</h2>
      <p class="description">Should provide account completions despite syntax errors in file</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 8, Column 7</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Expenses:Food</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Valid Transaction
    <span class="account">Expenses:Food</span>    <span class="amount">$50.00</span>
    <span class="account">Assets:Checking</span>  $-50.00

<span class="account">Broken</span> transaction without date
    <span class="account">Expenses:Invalid</span>    $malformed-amount

<span class="date">2024-01-02</span> Another Transaction
    <span class="account">Exp</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide account completions despite syntax errors in file
cursorLine: 8
cursorColumn: 7
expectedCompletions:
  - label: Expenses:Food
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="error-tolerant-payee">
      <h2>error-tolerant-payee</h2>
      <p class="description">Should provide payee completions despite syntax errors in file</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 11, Column 15</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Grocery Store</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Grocery Store
    <span class="account">Expenses:Food</span>    <span class="amount">$50.00</span>
    <span class="comment">; Missing balancing account - syntax error that would break CLI</span>

<span class="date">2024-01-02</span> Coffee Shop
    <span class="account">Expenses:Food</span>    $invalid-amount
    <span class="account">Assets:Checking</span>

<span class="account">Invalid</span> line without date
    <span class="account">Some:Account</span>    <span class="amount">$25.00</span>

<span class="date">2024-01-03</span> Groc<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide payee completions despite syntax errors in file
cursorLine: 11
cursorColumn: 15
expectedCompletions:
  - label: Grocery Store
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="malformed-transactions">
      <h2>malformed-transactions</h2>
      <p class="description">Should work with completely malformed transactions</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 16, Column 16</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Another Valid Store</strong> (Value) - Payee</li><li><strong>Valid Store</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Valid Store
    <span class="account">Expenses:Food</span>    <span class="amount">$50.00</span>
    <span class="account">Assets:Checking</span> $-50.00

<span class="account">This</span> is not a transaction at all
    <span class="account">Some</span> random text

<span class="date">2024-01-02</span> * Another Valid Store
    <span class="account">Expenses:Dining</span>
    <span class="comment">; Missing amount and balancing account</span>

<span class="account">Invalid</span> date format transaction
    <span class="account">Assets:Bank</span>    <span class="amount">$100</span>

<span class="comment">; Comment line</span>

<span class="date">2024-01-03</span> Valid<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should work with completely malformed transactions
cursorLine: 16
cursorColumn: 16
expectedCompletions:
  - label: Another Valid Store
    kind: Value
    detail: Payee
  - label: Valid Store
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="no-account-completions-on-transaction-line">
      <h2>no-account-completions-on-transaction-line</h2>
      <p class="description">Should not provide account completions on non-indented lines</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 0, Column 15</p>
        <p><strong>Completion Type:</strong> none</p>
        <p><strong>Negative Assertions:</strong> No account completions expected</p>
        
        
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content">Assets:Checking<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should not provide account completions on non-indented lines
cursorLine: 0
cursorColumn: 15
expectedCompletions: []
completionType: none
noAccountCompletions: true
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="no-account-on-transaction">
      <h2>no-account-on-transaction</h2>
      <p class="description">Should not provide account completions on transaction date lines</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 4, Column 20</p>
        <p><strong>Completion Type:</strong> payee</p>
        <p><strong>Negative Assertions:</strong> No account completions expected</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Test Payee</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-10</span> Existing Payee
    <span class="account">Assets:Cash</span>    <span class="amount">$50.00</span>
    <span class="account">Income:Salary</span> -<span class="amount">$50.00</span>

<span class="date">2024-01-15</span> Test Paye<span class="cursor">|</span>e</pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should not provide account completions on transaction date lines
cursorLine: 4
cursorColumn: 20
expectedCompletions:
  - label: Test Payee
    kind: Value
    detail: Payee
completionType: payee
noAccountCompletions: true
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="no-completions-after-amount">
      <h2>no-completions-after-amount</h2>
      <p class="description">Should not provide completions when no account text matches regex</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 1, Column 11</p>
        <p><strong>Completion Type:</strong> none</p>
        <p><strong>Negative Assertions:</strong> No account completions expected</p>
        
        
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-15</span> Test Transaction
    <span class="amount">$100.00</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should not provide completions when no account text matches regex
cursorLine: 1
cursorColumn: 11
expectedCompletions: []
completionType: none
noAccountCompletions: true
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="no-payee-completions-in-date">
      <h2>no-payee-completions-in-date</h2>
      <p class="description">Should not provide completions when cursor is before date prefix</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 0, Column 5</p>
        <p><strong>Completion Type:</strong> none</p>
        <p><strong>Negative Assertions:</strong> No payee completions expected</p>
        
        
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content">2024-<span class="cursor">|</span>01-15 * Test Payee</pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should not provide completions when cursor is before date prefix
cursorLine: 0
cursorColumn: 5
expectedCompletions: []
completionType: none
noPayeeCompletions: true
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="no-payee-on-posting">
      <h2>no-payee-on-posting</h2>
      <p class="description">Should not provide payee completions on posting lines</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 1, Column 4</p>
        <p><strong>Completion Type:</strong> none</p>
        <p><strong>Negative Assertions:</strong> No payee completions expected</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:Bank:Checking</strong> (Module) - Account</li><li><strong>Expenses:Food</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-15</span> Test Transaction
    <span class="cursor">|</span>Assets:Bank:Checking    <span class="amount">$100.00</span>
    <span class="account">Expenses:Food</span>          -<span class="amount">$100.00</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should not provide payee completions on posting lines
cursorLine: 1
cursorColumn: 4
expectedCompletions:
  - label: Assets:Bank:Checking
    kind: Module
    detail: Account
  - label: Expenses:Food
    kind: Module
    detail: Account
completionType: none
noPayeeCompletions: true
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="payee-completion-basic">
      <h2>payee-completion-basic</h2>
      <p class="description">Should provide payee completions on transaction lines</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 8, Column 12</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Whole Foods Market</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-15</span> Whole Foods Market
    <span class="account">Expenses:Food</span>    <span class="amount">$10.00</span>
    <span class="account">Assets:Cash</span>     -<span class="amount">$10.00</span>

<span class="date">2024-01-16</span> Target Store  
    <span class="account">Expenses:Shopping</span>    <span class="amount">$25.00</span>
    <span class="account">Assets:Cash</span>         -<span class="amount">$25.00</span>

<span class="date">2024-01-15</span> W<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide payee completions on transaction lines
cursorLine: 8
cursorColumn: 12
expectedCompletions:
  - label: Whole Foods Market
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="payee-completion-effective-date">
      <h2>payee-completion-effective-date</h2>
      <p class="description">Should handle transaction with effective date</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 4, Column 28</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Previous Store</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Previous Store
    <span class="account">Expenses:Food</span>    <span class="amount">$30.00</span>
    <span class="account">Assets:Checking</span>

<span class="date">2024-01-15</span>=<span class="date">2024-01-16</span> * Prev<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should handle transaction with effective date
cursorLine: 4
cursorColumn: 28
expectedCompletions:
  - label: Previous Store
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="payee-completion-mid-file">
      <h2>payee-completion-mid-file</h2>
      <p class="description">Should provide payee completions in middle of file</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 8, Column 16</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Grocery Store</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Grocery Store
    <span class="account">Expenses:Food</span>    <span class="amount">$50.00</span>
    <span class="account">Assets:Checking</span>

<span class="date">2024-01-02</span> Coffee Shop
    <span class="account">Expenses:Food</span>    <span class="amount">$15.00</span>
    <span class="account">Assets:Cash</span>

<span class="date">2024-01-03</span> Groc

<span class="date">2024-01-10</span> Hardware Store
    <span class="account">Expenses:Tools</span>    <span class="amount">$75.00</span>
    <span class="account">Assets:Checking</span>

<span class="date">2024-01-15</span> Restaurant ABC
    <span class="account">Expenses:Dining</span>   <span class="amount">$45.00</span>
    <span class="account">Assets:Checking</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should provide payee completions in middle of file
cursorLine: 8
cursorColumn: 16
expectedCompletions:
  - label: Grocery Store
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="payee-completion-range">
      <h2>payee-completion-range</h2>
      <p class="description">Should set range when completing payee with existing text</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 4, Column 18</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Whole Foods Market</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Whole Foods Market
    <span class="account">Expenses:Groceries</span>    <span class="amount">$50.00</span>
    <span class="account">Assets:Checking</span>

<span class="date">2024-01-15</span> * Whole<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should set range when completing payee with existing text
cursorLine: 4
cursorColumn: 18
expectedCompletions:
  - label: Whole Foods Market
    kind: Value
    detail: Payee
    expectedRange:
      startLine: 4
      startColumn: 13
      endLine: 4
      endColumn: 18
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="payee-completion-with-code">
      <h2>payee-completion-with-code</h2>
      <p class="description">Should handle transaction with code</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 4, Column 25</p>
        <p><strong>Completion Type:</strong> payee</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Previous Store</strong> (Value) - Payee</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Previous Store
    <span class="account">Expenses:Food</span>    <span class="amount">$30.00</span>
    <span class="account">Assets:Checking</span>

<span class="date">2024-01-15</span> * (12345) Prev<span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should handle transaction with code
cursorLine: 4
cursorColumn: 25
expectedCompletions:
  - label: Previous Store
    kind: Value
    detail: Payee
completionType: payee
</pre>
        </div>
      </div>
    </div>
  
        
    <div class="test-case" id="posting-line-with-tabs">
      <h2>posting-line-with-tabs</h2>
      <p class="description">Should handle posting line with tabs</p>
      
      <div class="test-details">
        <p><strong>Cursor Position:</strong> Line 5, Column 11</p>
        <p><strong>Completion Type:</strong> account</p>
        
        
        
          <div class="expected-completions">
            <h4>Expected Completions:</h4>
            <ul><li><strong>Assets:Bank:Checking</strong> (Module) - Account</li></ul>
          </div>
        
      </div>
      
      <div class="test-content">
        <div class="input-section">
          <h4>Input Content (input.ledger):</h4>
          <pre class="ledger-content"><span class="date">2024-01-01</span> Previous Transaction
    <span class="account">Assets:Bank:Checking</span>    <span class="amount">$100.00</span>
    <span class="account">Expenses:Food</span>          $-100.00

<span class="date">2024-01-15</span> Test Transaction
	<span class="account">Assets:Ban</span><span class="cursor">|</span></pre>
        </div>
        
        <div class="config-section">
          <h4>Configuration (config.yaml):</h4>
          <pre class="yaml-content">description: Should handle posting line with tabs
cursorLine: 5
cursorColumn: 11
expectedCompletions:
  - label: Assets:Bank:Checking
    kind: Module
    detail: Account
completionType: account
</pre>
        </div>
      </div>
    </div>
  
    </div>
    
    <a href="#" class="back-to-top">â†‘ Top</a>
    
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>